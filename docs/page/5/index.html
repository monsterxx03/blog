<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
  <title>Shining Moon</title>
  <meta property="og:title" content="Shining Moon" />
  <meta name="twitter:title" content="Shining Moon" />
  

  
  <meta name="description" content="ç™¾ç§å¼Šç—…,çš†ä»æ‡’ç”Ÿ">
  <meta property="og:description" content="ç™¾ç§å¼Šç—…,çš†ä»æ‡’ç”Ÿ">
  <meta name="twitter:description" content="ç™¾ç§å¼Šç—…,çš†ä»æ‡’ç”Ÿ">
  

  <meta name="author" content="X"/>
  <meta property="og:site_name" content="Shining Moon" />
  <meta property="og:url" content="https://blog.monsterxx03.com/" />

  
  <meta name="twitter:card" content="summary" />

  
  <meta name="twitter:site" content="@monsterxx03" />
  <meta name="twitter:creator" content="@monsterxx03" />
  

  
  <meta property="og:type" content="website" />
  
  
  <meta name="generator" content="Hugo 0.55.6" /><link rel="stylesheet" href="https://blog.monsterxx03.com/css/style.css" />
  
  
  <link href="https://blog.monsterxx03.com/index.xml" rel="alternate" type="application/rss+xml" title="Shining Moon" />
  
  <script type="text/javascript" src="https://blog.monsterxx03.com/js/bundle.js"></script>
  

</head>

<body>
  <a href="#main" class="skip-link p-screen-reader-text">Skip to content</a>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;" aria-hidden="true"> <symbol id="icon-500px" viewBox="0 0 16 16"><g> <path d="M3.953 10.512a5.24 5.24 0 0 0 6.996 3.141c.625-.262 1.184-.641 1.666-1.122s.859-1.041 1.122-1.666c.272-.647.412-1.331.412-2.037s-.137-1.394-.412-2.037c-.262-.625-.641-1.184-1.122-1.666s-1.041-.859-1.666-1.122a5.226 5.226 0 0 0-2.037-.413c-.716 0-1.431.144-2.066.413-.509.216-1.372.769-1.875 1.291l-.003.003V.984h7.241c.262-.003.262-.372.262-.491 0-.122 0-.487-.266-.491H4.377a.343.343 0 0 0-.344.341v6.066c0 .197.244.338.472.384.444.094.544-.047.653-.197l.016-.019c.166-.247.681-.766.688-.772a4.262 4.262 0 0 1 3.037-1.25c1.147 0 2.222.444 3.028 1.25a4.245 4.245 0 0 1 1.256 3.019 4.236 4.236 0 0 1-1.25 3.019 4.336 4.336 0 0 1-3.047 1.25 4.136 4.136 0 0 1-2.159-.597l.003-3.688c0-.491.213-1.028.572-1.431a2.09 2.09 0 0 1 1.588-.716c.594 0 1.15.225 1.566.634.409.406.637.95.637 1.528a2.179 2.179 0 0 1-2.206 2.197c-.238 0-.672-.106-.691-.109-.25-.075-.356.272-.391.387-.134.441.069.528.109.541.397.125.659.147 1.003.147a3.173 3.173 0 0 0 3.169-3.169c0-1.734-1.422-3.144-3.166-3.144-.856 0-1.659.328-2.263.919-.575.566-.903 1.319-.903 2.069v.019c-.003.094-.003 2.306-.006 3.031l-.003-.003c-.328-.363-.653-.919-.869-1.488-.084-.222-.275-.184-.534-.103-.125.034-.469.141-.391.394zm3.722-.865c0 .106.097.2.156.253l.019.019c.1.097.194.147.281.147a.181.181 0 0 0 .131-.05c.044-.041.537-.544.588-.591l.553.55c.05.056.106.088.172.088.088 0 .184-.053.284-.156.238-.244.119-.375.063-.438l-.559-.559.584-.588c.128-.137.016-.284-.097-.397-.162-.162-.322-.206-.422-.112l-.581.581-.588-.588a.16.16 0 0 0-.113-.047c-.078 0-.172.053-.275.156-.181.181-.219.306-.125.406l.588.584-.584.584c-.053.05-.078.103-.075.156zm1.278-7.931c-.938 0-1.938.191-2.669.506a.207.207 0 0 0-.134.181.753.753 0 0 0 .069.337c.047.116.166.425.4.334a6.689 6.689 0 0 1 2.334-.444 6.35 6.35 0 0 1 2.469.497c.622.263 1.206.644 1.844 1.194a.22.22 0 0 0 .147.059c.125 0 .244-.122.347-.237.169-.191.287-.35.119-.509a6.858 6.858 0 0 0-2.1-1.356 7.326 7.326 0 0 0-2.825-.563zM14.006 13.3c-.113-.113-.209-.178-.294-.203s-.162-.006-.222.053l-.056.056a6.32 6.32 0 0 1-6.938 1.356 6.336 6.336 0 0 1-2.013-1.356 6.046 6.046 0 0 1-1.356-2.012c-.288-.713-.381-1.247-.413-1.422-.003-.016-.006-.028-.006-.037-.041-.206-.231-.222-.503-.178-.112.019-.459.072-.428.319v.006a7.261 7.261 0 0 0 2.04 3.994 7.266 7.266 0 0 0 10.288 0l.059-.059c.069-.084.134-.225-.159-.516z"/> </g></symbol> <symbol id="icon-codepen" viewBox="0 0 16 16"><g> <path d="M14.777 5.751l-7-4.667a.5.5 0 0 0-.555 0l-7 4.667a.501.501 0 0 0-.223.416v4.667c0 .167.084.323.223.416l7 4.667a.5.5 0 0 0 .554 0l7-4.667a.501.501 0 0 0 .223-.416V6.167a.501.501 0 0 0-.223-.416zM7.5 10.232L4.901 8.5 7.5 6.768 10.099 8.5 7.5 10.232zM8 5.899V2.434l5.599 3.732L11 7.898l-3-2zm-1 0l-3 2-2.599-1.732L7 2.435V5.9zM3.099 8.5L1 9.899V7.101L3.099 8.5zM4 9.101l3 2v3.465l-5.599-3.732L4 9.102zm4 2l3-2 2.599 1.732L8 14.565V11.1zM11.901 8.5L14 7.101v2.798L11.901 8.5z"/> </g></symbol> <symbol id="icon-dribbble" viewBox="0 0 16 16"><g> <path d="M8 16c-4.412 0-8-3.588-8-8s3.587-8 8-8c4.412 0 8 3.587 8 8s-3.588 8-8 8zm6.747-6.906c-.234-.075-2.116-.634-4.256-.291a29.7 29.7 0 0 1 1.328 4.872 6.845 6.845 0 0 0 2.928-4.581zM10.669 14.3c-.103-.6-.497-2.688-1.456-5.181-.016.006-.031.009-.044.016-3.856 1.344-5.241 4.016-5.362 4.266a6.807 6.807 0 0 0 6.863.9zm-7.747-1.722c.156-.266 2.031-3.369 5.553-4.509a7.04 7.04 0 0 1 .269-.081 24.04 24.04 0 0 0-.553-1.159c-3.409 1.022-6.722.978-7.022.975-.003.069-.003.138-.003.209 0 1.753.666 3.356 1.756 4.566zM1.313 6.609c.306.003 3.122.016 6.319-.831a43.092 43.092 0 0 0-2.534-3.953 6.854 6.854 0 0 0-3.784 4.784zM6.4 1.366a36.612 36.612 0 0 1 2.55 4c2.431-.909 3.459-2.294 3.581-2.469A6.799 6.799 0 0 0 6.4 1.366zm6.891 2.325c-.144.194-1.291 1.663-3.816 2.694.159.325.313.656.453.991.05.119.1.234.147.353 2.275-.284 4.534.172 4.759.219a6.816 6.816 0 0 0-1.544-4.256z"/> </g></symbol> <symbol id="icon-facebook" viewBox="0 0 16 16"><g> <path d="M9.5 3H12V0H9.5C7.57 0 6 1.57 6 3.5V5H4v3h2v8h3V8h2.5l.5-3H9V3.5c0-.271.229-.5.5-.5z"/> </g></symbol> <symbol id="icon-feed" viewBox="0 0 16 16"><g> <path d="M2.13 11.733c-1.175 0-2.13.958-2.13 2.126 0 1.174.955 2.122 2.13 2.122a2.126 2.126 0 0 0 2.133-2.122 2.133 2.133 0 0 0-2.133-2.126zM.002 5.436v3.067c1.997 0 3.874.781 5.288 2.196a7.45 7.45 0 0 1 2.192 5.302h3.08c0-5.825-4.739-10.564-10.56-10.564zM.006 0v3.068C7.128 3.068 12.924 8.87 12.924 16H16C16 7.18 8.824 0 .006 0z"/> </g></symbol> <symbol id="icon-flickr" viewBox="0 0 16 16"><g> <path d="M0 8.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0zm9 0a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/> </g></symbol> <symbol id="icon-github" viewBox="0 0 16 16"><g> <path d="M8 .198a8 8 0 0 0-2.529 15.591c.4.074.547-.174.547-.385 0-.191-.008-.821-.011-1.489-2.226.484-2.695-.944-2.695-.944-.364-.925-.888-1.171-.888-1.171-.726-.497.055-.486.055-.486.803.056 1.226.824 1.226.824.714 1.223 1.872.869 2.328.665.072-.517.279-.87.508-1.07-1.777-.202-3.645-.888-3.645-3.954 0-.873.313-1.587.824-2.147-.083-.202-.357-1.015.077-2.117 0 0 .672-.215 2.201.82A7.672 7.672 0 0 1 8 4.066c.68.003 1.365.092 2.004.269 1.527-1.035 2.198-.82 2.198-.82.435 1.102.162 1.916.079 2.117.513.56.823 1.274.823 2.147 0 3.073-1.872 3.749-3.653 3.947.287.248.543.735.543 1.481 0 1.07-.009 1.932-.009 2.195 0 .213.144.462.55.384A8 8 0 0 0 8.001.196z"/> </g></symbol> <symbol id="icon-gitlab" viewBox="0 0 28 28"><g> <path d="M1.625 11.031L14 26.89.437 17.046a1.092 1.092 0 0 1-.391-1.203l1.578-4.813zm7.219 0h10.313L14.001 26.89zM5.75 1.469l3.094 9.562H1.625l3.094-9.562a.548.548 0 0 1 1.031 0zm20.625 9.562l1.578 4.813a1.09 1.09 0 0 1-.391 1.203l-13.563 9.844 12.375-15.859zm0 0h-7.219l3.094-9.562a.548.548 0 0 1 1.031 0z"/> </g></symbol> <symbol id="icon-google-plus" viewBox="0 0 16 16"><g> <path d="M5.091 7.147v1.747h2.888c-.116.75-.872 2.197-2.888 2.197-1.737 0-3.156-1.441-3.156-3.216s1.419-3.216 3.156-3.216c.991 0 1.65.422 2.028.784L8.5 4.112c-.888-.828-2.037-1.331-3.409-1.331C2.275 2.784 0 5.059 0 7.875s2.275 5.091 5.091 5.091c2.937 0 4.888-2.066 4.888-4.975 0-.334-.037-.591-.081-.844H5.092zM16 7h-1.5V5.5H13V7h-1.5v1.5H13V10h1.5V8.5H16z"/> </g></symbol> <symbol id="icon-instagram" viewBox="0 0 22 22"><g> <path d="M15.445 0H6.554A6.559 6.559 0 0 0 0 6.554v8.891A6.559 6.559 0 0 0 6.554 22h8.891a6.56 6.56 0 0 0 6.554-6.555V6.554A6.557 6.557 0 0 0 15.445 0zm4.342 15.445a4.343 4.343 0 0 1-4.342 4.342H6.554a4.341 4.341 0 0 1-4.341-4.342V6.554a4.34 4.34 0 0 1 4.341-4.341h8.891a4.342 4.342 0 0 1 4.341 4.341l.001 8.891z"/> <path d="M11 5.312A5.693 5.693 0 0 0 5.312 11 5.694 5.694 0 0 0 11 16.688 5.694 5.694 0 0 0 16.688 11 5.693 5.693 0 0 0 11 5.312zm0 9.163a3.475 3.475 0 1 1-.001-6.95 3.475 3.475 0 0 1 .001 6.95zm5.7-10.484a1.363 1.363 0 1 1-1.364 1.364c0-.752.51-1.364 1.364-1.364z"/> </g></symbol> <symbol id="icon-linkedin" viewBox="0 0 16 16"><g> <path d="M6 6h2.767v1.418h.04C9.192 6.727 10.134 6 11.539 6 14.46 6 15 7.818 15 10.183V15h-2.885v-4.27c0-1.018-.021-2.329-1.5-2.329-1.502 0-1.732 1.109-1.732 2.255V15H6V6zM1 6h3v9H1V6zM4 3.5a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 4 3.5z"/> </g></symbol> <symbol id="icon-mail" viewBox="0 0 22 18"><g> <path fill="#000" d="M0 17.225V.776h22v16.447H0v.002zm3.011-1.815h15.978l-5.111-5.115L11 13.179l-2.877-2.883-5.112 5.114zm-1.216-1.275l5.077-5.09L1.795 3.98v10.155zm13.332-5.09l5.079 5.09V3.979l-5.079 5.066zm-4.126 1.588l8.022-8.027-16.045-.001 8.023 8.028z"/> </g></symbol> <symbol id="icon-npm" viewBox="0 0 16 16"><g> <path d="M0 0v16h16V0H0zm13 13h-2V5H8v8H3V3h10v10z"/> </g></symbol> <symbol id="icon-pinterest" viewBox="0 0 16 16"><g> <path d="M8 1.069a6.93 6.93 0 0 0-2.525 13.384c-.059-.547-.116-1.391.025-1.988.125-.541.813-3.444.813-3.444s-.206-.416-.206-1.028c0-.963.559-1.684 1.253-1.684.591 0 .878.444.878.975 0 .594-.378 1.484-.575 2.306-.166.691.344 1.253 1.025 1.253 1.231 0 2.178-1.3 2.178-3.175 0-1.659-1.194-2.819-2.894-2.819-1.972 0-3.128 1.478-3.128 3.009 0 .597.228 1.234.516 1.581.056.069.066.128.047.2a95.89 95.89 0 0 1-.194.787c-.031.128-.1.153-.231.094-.866-.403-1.406-1.669-1.406-2.684 0-2.188 1.587-4.194 4.578-4.194 2.403 0 4.272 1.712 4.272 4.003 0 2.388-1.506 4.313-3.597 4.313-.703 0-1.362-.366-1.588-.797 0 0-.347 1.322-.431 1.647-.156.603-.578 1.356-.862 1.816a6.93 6.93 0 0 0 8.984-6.622 6.931 6.931 0 0 0-6.931-6.934z"/> </g></symbol> <symbol id="icon-search" viewBox="0 0 16 16"><g> <path d="M15.504 13.616l-3.79-3.223c-.392-.353-.811-.514-1.149-.499a6 6 0 1 0-.672.672c-.016.338.146.757.499 1.149l3.223 3.79c.552.613 1.453.665 2.003.115s.498-1.452-.115-2.003zM6 10a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/> </g></symbol> <symbol id="icon-tumblr" viewBox="0 0 16 16"><g> <path d="M9.001 7v3.659c0 .928-.012 1.463.086 1.727.098.262.342.534.609.691.354.212.758.318 1.214.318.81 0 1.289-.107 2.09-.633v2.405a9.089 9.089 0 0 1-1.833.639A7.93 7.93 0 0 1 9.369 16a4.9 4.9 0 0 1-1.725-.276 4.195 4.195 0 0 1-1.438-.79c-.398-.343-.672-.706-.826-1.091s-.23-.944-.23-1.676V6.556H3.003V4.29c.628-.204 1.331-.497 1.778-.877a4.386 4.386 0 0 0 1.08-1.374C6.133 1.505 6.32.825 6.422 0h2.579v4H13v3H9.001z"/> </g></symbol> <symbol id="icon-twitter" viewBox="0 0 16 16"><g> <path d="M16 3.538a6.461 6.461 0 0 1-1.884.516 3.301 3.301 0 0 0 1.444-1.816 6.607 6.607 0 0 1-2.084.797 3.28 3.28 0 0 0-2.397-1.034 3.28 3.28 0 0 0-3.197 4.028 9.321 9.321 0 0 1-6.766-3.431 3.284 3.284 0 0 0 1.015 4.381A3.301 3.301 0 0 1 .643 6.57v.041A3.283 3.283 0 0 0 3.277 9.83a3.291 3.291 0 0 1-1.485.057 3.293 3.293 0 0 0 3.066 2.281 6.586 6.586 0 0 1-4.862 1.359 9.286 9.286 0 0 0 5.034 1.475c6.037 0 9.341-5.003 9.341-9.341 0-.144-.003-.284-.009-.425a6.59 6.59 0 0 0 1.637-1.697z"/> </g></symbol> <symbol id="icon-vimeo" viewBox="0 0 16 16"><g> <path d="M15.994 4.281c-.072 1.556-1.159 3.691-3.263 6.397-2.175 2.825-4.016 4.241-5.522 4.241-.931 0-1.722-.859-2.366-2.581-.431-1.578-.859-3.156-1.291-4.734-.478-1.722-.991-2.581-1.541-2.581-.119 0-.538.253-1.256.753l-.753-.969c.791-.694 1.569-1.388 2.334-2.081 1.053-.909 1.844-1.387 2.372-1.438 1.244-.119 2.013.731 2.3 2.553.309 1.966.525 3.188.647 3.666.359 1.631.753 2.447 1.184 2.447.334 0 .838-.528 1.509-1.588.669-1.056 1.028-1.862 1.078-2.416.097-.912-.262-1.372-1.078-1.372a2.98 2.98 0 0 0-1.184.263c.787-2.575 2.287-3.825 4.506-3.753 1.641.044 2.416 1.109 2.322 3.194z"/> </g></symbol> <symbol id="icon-wordpress" viewBox="0 0 16 16"><g> <path d="M2 8c0 2.313 1.38 4.312 3.382 5.259L2.52 5.622A5.693 5.693 0 0 0 2 8zm10.05-.295c0-.722-.266-1.222-.495-1.612-.304-.482-.589-.889-.589-1.371 0-.537.418-1.037 1.008-1.037.027 0 .052.003.078.005A6.064 6.064 0 0 0 8 2.156 6.036 6.036 0 0 0 2.987 4.79c.141.004.274.007.386.007.627 0 1.599-.074 1.599-.074.323-.018.361.444.038.482 0 0-.325.037-.687.055l2.185 6.33 1.313-3.835-.935-2.495a12.304 12.304 0 0 1-.629-.055c-.323-.019-.285-.5.038-.482 0 0 .991.074 1.58.074.627 0 1.599-.074 1.599-.074.323-.018.362.444.038.482 0 0-.326.037-.687.055l2.168 6.282.599-1.947c.259-.809.457-1.389.457-1.889zm-3.945.806l-1.8 5.095a6.148 6.148 0 0 0 3.687-.093.52.52 0 0 1-.043-.081L8.105 8.511zm5.16-3.315c.026.186.04.386.04.601 0 .593-.114 1.259-.456 2.093l-1.833 5.16c1.784-1.013 2.983-2.895 2.983-5.051a5.697 5.697 0 0 0-.735-2.803zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm0 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14z"/> </g></symbol> <symbol id="icon-youtube" viewBox="0 0 16 16"><g> <path d="M15.841 4.8s-.156-1.103-.637-1.587c-.609-.637-1.291-.641-1.603-.678-2.237-.163-5.597-.163-5.597-.163h-.006s-3.359 0-5.597.163c-.313.038-.994.041-1.603.678C.317 3.697.164 4.8.164 4.8S.005 6.094.005 7.391v1.213c0 1.294.159 2.591.159 2.591s.156 1.103.634 1.588c.609.637 1.409.616 1.766.684 1.281.122 5.441.159 5.441.159s3.363-.006 5.6-.166c.313-.037.994-.041 1.603-.678.481-.484.637-1.588.637-1.588s.159-1.294.159-2.591V7.39c-.003-1.294-.162-2.591-.162-2.591zm-9.494 5.275V5.578l4.322 2.256-4.322 2.241z"/> </g></symbol></svg>
  <header class="l-header">
    
    <h1 class="c-title p-title"><a href="https://blog.monsterxx03.com/" class="p-title__link">Shining Moon</a></h1>
    
    
    <p class="p-subtitle">
      ç™¾ç§å¼Šç—…,çš†ä»æ‡’ç”Ÿ
    </p>
    
  </header>
  <main id="main" class="l-main">



<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/10/14/aws-dms-notes/">AWS DMS notes</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-10-14T22:33:36&#43;08:00">
        Oct 14, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    AWS&rsquo;s DMS (Data migration service) can be used to do incremental ETL between databases. I use it to load data from RDS (MySQL) to Redshift.
It works, but have some concerns. Take some notes when doing this project.
Prerequisites Source RDS must:
 Enable automatic backups Increase binlog remain time, call mysql.rds_set_configuration('binlog retention hours', 24); Set binlog_format to ROW. Privileges on source RDS: REPLICATION CLIENT, REPLICATION SLAVE, SELECT on replication target tables  DDL on source table Redshift has some limits on change columns:
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/10/14/aws-dms-notes/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/09/29/get-all-invalid-ptr-record-on-route53/">Get all invalid PTR record on  Route53</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-09-29T08:55:18Z">
        Sep 29, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    I use autoscaling group to manage stateless servers. Servers go up and down every day.
Once server is up, I will add a PTR record for it&#8217;s internal ip. But when it&#8217;s down, I didn&#8217;t cleanup the PTR record. As times fly, a lot of invalid PTR records left in Route53.
To cleanup those PTR records realtime, you can write a lambda function, use server termination event as trigger. But how to cleanup the old records at once?
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/09/29/get-all-invalid-ptr-record-on-route53/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/08/19/build-private-staticwebsite-on-s3/">Build private static website on S3</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-08-19T07:28:16Z">
        Aug 19, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    Build static website on S3 is very easy, but by default, it can be accessed by open internet.It will be super helpful if we can build website only available in VPC. Then we can use it to host internal deb repo, doc site&#8230;
Steps are very easy, you only need VPC endpoints and S3 bucket policy.
AWS api is open to internet, if you need to access S3 in VPC, your requests will pass through VPC&#8217;s internet gateway or NAT gateway.
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/08/19/build-private-staticwebsite-on-s3/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/08/13/%E6%97%85%E8%A1%8C%E6%95%A3%E8%AE%B0/">æ—…è¡Œæ•£è®°</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-08-13T15:18:52Z">
        Aug 13, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    å‰é˜µå­æ€»æœ‰ç‚¹å¿ƒçƒ¦æ„ä¹±çš„ï¼Œç”Ÿæ´»ä¸Šçš„ï¼Œå®¶é‡Œçš„ï¼Œå µåœ¨ä¸€å—ï¼Œå¼„å¾—è‡ªå·±éƒ½æœ‰ç‚¹ç–²æƒ«äº†ï¼Œ8æœˆåˆçš„æ—¶å€™å»æ—¥æœ¬ä¸œåŒ—é€›äº†ä¸€åœˆï¼Œæ°é€¢å½“åœ°ç¥­å¥ å¯†é›†æœŸï¼Œä¹Ÿå°±å‡‘äº†æŠŠçƒ­é—¹ï¼Œè¿˜æŒºæœ‰æ„æ€ã€‚
è¡Œç¨‹: ä¸Šæµ· -&gt; ä¸œäº¬ -&gt; ç››å†ˆ -&gt; å…«æˆ· -&gt; åå’Œç”°æ¹– -&gt; é’æ£® -&gt; å¼˜å‰ -&gt; ä¸œäº¬ -&gt; ä¸Šæµ·, æ»¡æ»¡å½“å½“çš„7å¤©, æ‡’å¾—è´´å›¾ï¼Œçè®°ä¸€ç‚¹ã€‚
ç››å†ˆæ˜¯å²©æ‰‹å¿çš„é¦–åºœï¼Œä½†åˆšåˆ°çš„æ—¶å€™æ„Ÿè§‰çœŸæ˜¯ä¸ªå¤§ä¹¡ä¸‹å•Šï¼Œå¤§ç™½å¤©ï¼Œå‡ºäº†è½¦ç«™åŒºåŸŸï¼Œæ­¥è¡Œ1å…¬é‡Œå¤šçš„æ—¶é—´é‡Œåªç¢°åˆ°äº†2ä¸ªäººï¼Œä¸€ä¸ªæ¡¥ä¸‹ç¡è§‰çš„å¤§å”ï¼Œä¸€ä¸ªé›ç‹—çš„ï¼Œåƒä¸ªé¬¼åŸä¼¼çš„ï¼Œè¶…çº§ä¸ä¹ æƒ¯ã€‚åˆ°äº†æ™šä¸Šï¼Œå½“åœ°æœ‰ä¸‰é£’èˆç¥­å…¸ï¼Œä¸€ä¸‹å­ä¸çŸ¥ä»å“ªå†’å‡ºæ¥å¥½å¤šäººã€‚å¤§å®¶èšåœ¨ä¸€èµ·ï¼Œå„ç§è·¯è¾¹æ‘Šä¹°ä¹°ä¹°ï¼Œåƒåƒåƒï¼Œçƒ­é—¹çš„ä¸æ•¢ç›¸ä¿¡æ˜¯ç™½å¤©é‚£ä¸ªåŸå¸‚ã€‚ä¸‰é£’èˆæ˜¯å½“åœ°ä¸€ç§ä¼ ç»Ÿèˆè¹ˆ(ä¼ è¯´æ˜¯ä¸ºäº†å°å°ä¸€ä¸ªä»€ä¹ˆé¬¼çš„)ï¼Œä¸€è¾¹è·³ä¸€è¾¹å‰è¿›ï¼Œæœ‰çš„æ‰“å¤ªé¼“ï¼Œæœ‰çš„å¹ç¬›ï¼Œæœ‰çš„ç©ºæ‰‹ï¼Œè·³çš„ä¸“ä¸šçš„è¿˜æŒºå¥½çœ‹çš„ï¼Œä¹Ÿæœ‰å¾ˆå¤šå……æ•°çš„å°ç›†å‹å•¦:). å‚åŠ çš„éƒ½æ˜¯å½“åœ°ä¸€äº›å›¢ä½“å’Œä¼ä¸šï¼ŒåŸºæœ¬å°±å½“æ˜¯ä¸€æ¬¡å¤§å‹å¹¿å‘Šå·¡æ¸¸, å½“æ‰“å¤ªé¼“çš„æ–¹é˜µç»è¿‡é¢å‰çš„æ—¶å€™ï¼Œæ°”åŠ¿è¿˜æ˜¯å¾ˆéœ‡æ’¼çš„ã€‚åœ¨ç››å†ˆå‘†äº†ä¸¤å¤©ï¼Œä»åˆšåˆ°çš„ä¸é€‚åº”ä¸€ä¸‹å˜å¾—ç›¸å½“äº«å—é‚£é‡Œçš„åŸå¸‚æ°›å›´, åŸå¸‚é‡Œåˆ°å¤„éƒ½æ˜¯é£é“ƒå’Œç´«é˜³èŠ±ï¼Œé—²é€‚çš„ç”Ÿæ´»ï¼Œç¬¬ä¸€æ¬¡è¿™ä¹ˆå‘å¾€åœ¨ä¸€ä¸ªåŸå¸‚ç”Ÿæ´»ã€‚
å…«æˆ·è¿™ä¸ªç›¸å¯¹æ¥è¯´å°±æ²¡é‚£ä¹ˆå¤šæ„Ÿè§‰äº†ï¼Œé æµ·è¾¹æ¯”è¾ƒè¿‘ï¼Œæµ·é£å¾ˆèˆ’æœï¼Œä½†å¾ˆå¤šå»ºç­‘éƒ½ç ´ç ´çƒ‚çƒ‚çš„ï¼Œé£åŒ–å¾ˆä¸¥é‡ï¼Œä½çš„é…’åº—ä¹Ÿæ˜¯ç ´ç ´çƒ‚çƒ‚çš„ï¼Œåœ¨é‚£è¾¹çœ‹äº†ä¸€ä¸ªå…«æˆ·ä¸‰ç¤¾å¤§ç¥­ï¼Œæ˜¯å½“åœ°ä¸‰ä¸ªç¥ç¤¾è”åˆä¸¾åŠçš„å¤æ—¥ç¥­å…¸ã€‚å‰é¢æ˜¯å„ç§ç©¿ç€ä¼ ç»Ÿæœè£…çš„æ¸¸è¡Œé˜Ÿä¼ï¼Œåé¢æ˜¯ä¸€åº§åº§è£…æ‰®åä¸½çš„èŠ±è½¦ï¼Œå•Šå•Šå•Šï¼Œçœ‹åˆ°äº†è¶…å¯çˆ±çš„å°èè‰, è¿˜æœ‰å¾ˆæœ‰è¶£çš„æ—¥æœ¬çŸ®ç§é©¬ï¼Œè¶…miniï¼Œè¿˜ä¸å¤ªå¬è¯ï¼Œå‡ ä¸ªäººç¡¬æ‹½ç€æ‰è‚¯å¾€å‰èµ°ã€‚
å»å…«æˆ·çš„æ—¶å€™ï¼Œåè¿‡å¤´ï¼Œåˆ°äº†ä¸€ä¸ªå«é²›(æ—¥è¯­shame, é²¨é±¼çš„æ„æ€)çš„å°é•‡ï¼Œç¬é—´è§‰å¾—è¿™æ‰æ˜¯çœŸä¹¡ä¸‹. é™¤äº†æµ·é¸¥å’Œé±¼ä¸€æ— æ‰€æœ‰ï¼Œè¿ä¸ªé¥­é¦†éƒ½æ²¡æ‰¾åˆ°ï¼Œè´¹è€å¤§åŠ²æ‰¾åˆ°äº†é•‡ä¸Šå”¯ä¸€ä¸€ä¸ªè¶…å¸‚ï¼Œä¹°åˆ°äº†ä¸ªå¯ä¹é¥¼å……é¥¥ï¼Œè½¦ç«™é‡Œè´´ç€çš„é€šç¼‰ä»¤è¿˜æ˜¯åå‡ å¹´å‰çš„ï¼Œæ—¶é—´å¥½åƒåœ¨è¿™ä¸ªå°é•‡ä¸Šå‡å›ºäº†ã€‚åœ¨è½¦ç«™ç­‰è½¦çš„æ—¶å€™ï¼Œçœ‹ç€é‚£ä¸ªå°å°çš„è½¦ç«™ï¼Œçªç„¶æ˜ç™½äº†ä¸ºä»€ä¹ˆæ—¥æœ¬æœ‰é‚£ä¹ˆå¤šçš„é“é“å®…ï¼Œä»–ä»¬åˆæ˜¯ä¸ºä»€ä¹ˆå¯¹é“è·¯æ–‡åŒ–é‚£ä¹ˆç—´è¿·ã€‚é¡ºç€èœ¿èœ’çš„é“è½¨æœè¿œå¤„çœ‹å»ï¼Œé™¤äº†å±±å’Œäº‘ï¼Œå°±æ˜¯è‰ï¼Œè¿™å’Œåœ¨ä¸œäº¬é‚£ç§å¤§åŸå¸‚çš„ç«™å¤´çœŸæ˜¯å®Œå…¨ä¸åŒçš„æ„Ÿè§‰ã€‚
åœ¨å…«æˆ·åªå‘†äº†ä¸€æ™šï¼Œä¸»è¦æ˜¯ä¸ºäº†ç¬¬äºŒå¤©å»åå’Œç”°æ¹–çš„ã€‚åå¤§å·´åœ¨çŸ³ä¹‹æˆ·ä¸‹äº†è½¦ï¼Œåƒäº†ç¢—æ‹‰é¢å‡†å¤‡æ­¥è¡Œ14å…¬é‡Œåˆ°åå’Œç”°æ¹–ã€‚ä¼ è¯´çŸ³ä¹‹æˆ·é‚£é‡Œï¼Œåœ¨å¤ä»£æœ‰ç¾å¥³ç›—è´¼æ²¿é€”æ‰“åŠ«ç”·æ€§ï¼Œæƒ³æƒ³æœ‰ç‚¹å°æ¿€åŠ¨å‘¢,å“ˆå“ˆã€‚å»åå’Œç”°æ¹–çš„è¿™æ®µè·¯å«å¥¥å…¥æ¿‘æºªæµï¼Œä¹Ÿæ˜¯ä¸ªæœ‰åçš„æ™¯ç‚¹ï¼Œæ²¡æœ‰å›½å†…é‚£ç§å¤§å±±å¤§æ²³çš„å¼€é˜”æ™¯è‰²ï¼Œæœªç»äººå·¥ä¿®é¥°çš„é£æ™¯å´ç›¸å½“æœ‰æ—¥æœ¬é‚£ç§ä¼ ç»Ÿçš„ç¦…æ„, å¤å¤©ç»¿æ²¹æ²¹çš„ï¼Œä¼°è®¡åœ¨çº¢å¶å­£èŠ‚åº”è¯¥ç›¸å½“ç¾ã€‚
åå’Œç”°æ¹–æ˜¯ä¸ªç«å±±æ¹–ï¼Œæ°´è´¨å¾ˆæ¸…ï¼Œäº‘å¾ˆæ¼‚äº®ï¼Œå€¼å¾—ä¸€å»ã€‚å°±æ˜¯åœ¨é‚£è¾¹ä½å®¿çš„æ—¶å€™å¾ˆä¸æ„‰å¿«ï¼Œå› ä¸ºé…’åº—å®šçš„æ™šäº†ï¼Œåªèƒ½å®šèƒŒåŒ…å®¢æ ˆçš„åºŠä½ï¼Œç»“æœæ˜¯å’Œä¸€å®¶å­éŸ©å›½äºº5ä¸ªä¸€é—´æˆ¿ï¼Œå¥½å´©æºƒï¼Œä¸€å®¶äººéƒ½è¶…çº§æ²¡æœ‰ç¤¼è²Œçš„ï¼Œæ‰“æ‹›å‘¼æ ¹æœ¬ä¸é¸Ÿæˆ‘ã€‚æ™šä¸Šä¸€å®¶äººçš„å¥¶å¥¶å¤§å‘¼å£°éŸ³è¶…å¯æ€•ï¼Œæˆ‘è¢«åµå¾—ç¡ä¸ç€ï¼Œç´¢æ€§è·‘åˆ°æ—…é¦†å¤§å…é€šå®µçœ‹ä¹¦ã€‚çœ‹äº†ä¼šèµ°è¿‡æ¥ä¸ªæ—¥æœ¬å¤§å”ï¼Œè‹±è¯­å¾ˆæ£’ï¼ŒçèŠäº†ä¸€å¥ï¼Œè¯é¢˜åŸºæœ¬é›†ä¸­åœ¨å®‰å€æ˜¯ä¸ªsbï¼Œç¦å²›å¾ˆä¸å¦™å•Šå·´æ‹‰å·´æ‹‰ï¼Œè¿˜æ˜¯ä¸ªå¾ˆä¸é”™çš„å¤§å”ï¼ŒæœŸé—´ä»–çš„ä¸€ä¸ªä¼™ä¼´è·‘è¿‡æ¥å·å·åœ¨æ¡Œå­è§’ä¸Šè´´äº†å¼ è‡ªå·±åšçš„è´´çº¸ï¼Œå®å˜±æˆ‘åƒä¸‡åˆ«å‘Šè¯‰è€æ¿æ˜¯ä»–å¹²çš„ï¼Œæœ‰æ„æ€ã€‚ä»–ä»¬èµ°åï¼Œä¸ä¹…è€æ¿æ¥å·¡å¤œï¼ŒçŸ¥é“æˆ‘è¢«åµå¾—ç¡ä¸ç€åï¼Œå¸¦æˆ‘å»äº†special room! åœ¨æ”¾æ‚ç‰©çš„æˆ¿é—´é‡Œå°½ç„¶æœ‰åºŠé“ºï¼Œæ„ŸåŠ¨ï¼è€æ¿æ‚¨çœŸçš„è¶…çº§niceå•Šã€‚
åœ¨é’æ£®æ²¡å®šåˆ°é…’åº—ï¼Œä½åœ¨äº†å¼˜å‰ä¸€å®¶æœ‰200å¹´å†å²çš„æ—…é¦†é‡Œï¼Œå¾ˆä¼ ç»Ÿçš„æ—¥å¼æ—…é¦†ï¼Œæˆ¿å­å¾ˆè€ï¼Œä½†ä½“éªŒå¾ˆä¸é”™ï¼Œå”¯ä¸€çº ç»“çš„å°±æ˜¯æ³¡æ¾¡çš„è¯æˆ‘æ˜¯åº”è¯¥æŠŠæ°´æ”¾æ‰è¿˜æ˜¯ç•™ç€ç»™ä¸‹ä¸ªäººå‘¢ï¼Œå®åœ¨åƒä¸å‡†ï¼Œç»“æœå°±æ´—äº†ä¸ªæ·‹æµ´ã€‚å¼˜å‰å’Œé’æ£®éƒ½æœ‰ç¡é­”ç¥­ï¼Œä¹Ÿæ˜¯èŠ±è½¦ï¼Œä¸è¿‡æ˜¯å¸¦ç¯çš„ï¼Œæ‰€ä»¥æ˜¯æ™šä¸Šå¼€å§‹ã€‚å¼˜å‰äººçš„çƒ­æƒ…æ›´æœ‰æ„ŸæŸ“åŠ›ï¼Œé’æ£®çš„èŠ±è½¦èµåŠ©æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ›´å£®è§‚ä¸€ç‚¹:).å¼˜å‰æœ‰ä¸ªå‰ç¥¥ç‰©é¹°ä¸¸å›ï¼Œæœ¬æ¥å¤´ä¸Šæˆ´çš„æ˜¯å¼˜å‰åŸçš„å¤©å®ˆé˜ï¼Œå› ä¸ºå¤©å®ˆç°åœ¨åœ¨ç¿»ä¿®ï¼Œå˜æˆäº†å¤´ä¸Šæˆ´å®‰å…¨å¸½ï¼Œä¹Ÿæ˜¯æœ‰æ„æ€ã€‚é’æ£®è½¦ç«™æ—è¾¹æœ‰ä¸ªA factory, é‡Œé¢æœ‰å¾ˆå¤šè‹¹æœåˆ¶ç‰¹äº§ï¼Œå€¼å¾—ä¸€é€›ï¼Œè¦ä¸æ˜¯åªæœ‰ä¸€ä¸ªèƒŒåŒ…ï¼ŒçœŸçš„æƒ³å¡å¥½å¤šä¸œè¥¿å›æ¥ã€‚
éƒ½è¯´ä¸œåŒ—ç»æµä¸è¡Œï¼Œå¹´è½»äººéƒ½å¾€ä¸œäº¬è·‘å•¦ï¼Œåœ¨é‚£è¾¹å‡ å¤©ï¼Œç¡®å®æ„Ÿè§‰ç™½å¤©æ²¡æœ‰ä¸œäº¬çš„é‚£ç§å•†ä¸šæ°›å›´ã€‚ä½†ä»–ä»¬çš„ç¥­å…¸æ„ŸæŸ“åŠ›çœŸçš„è¶…å¼ºï¼Œå°±æˆ‘è¿™ä¹ˆä¸€ä¸ªçè·‘è¿‡å»å‡‘çƒ­é—¹çš„å®¶ä¼™ä¹Ÿèƒ½çœ‹å¾—æƒ…ç»ªé«˜æ¶¨ï¼Œä¸€å¹´ä¸€æ¬¡çš„ç¥­å…¸ï¼ŒçœŸçš„å˜æˆäº†å‡èšå½“åœ°å±…æ°‘çš„ä¸€ç§ä»ªå¼ï¼Œä¸€å®¶äººååœ¨è·¯è¾¹ï¼Œæ’¸ä¸²å–å•¤é…’ï¼Œçœ‹æ¸¸è¡Œï¼ŒçœŸçš„å¥½ç¾¡æ…•ï¼Œè¿™æ ·çš„åœºæ™¯ï¼Œåœ¨å›½å†…æ€æ ·éƒ½ä¸ä¼šæœ‰å“ã€‚
  </div>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/07/21/use-redshift-spectrum-to-do-query-on-s3/">Use redshift spectrum to do query on s3</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-07-21T03:10:58Z">
        Jul 21, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    ä½¿ç”¨ redshift spectrum æŸ¥è¯¢ S3 æ•°æ® é€šå¸¸ä½¿ç”¨ redshift åšæ•°æ®ä»“åº“çš„æ—¶å€™è¦åšå¤§é‡çš„ ETL å·¥ä½œï¼Œä¸€èˆ¬æµç¨‹æ˜¯æŠŠå„ç§æ¥æºçš„æ•°æ®æ£é¼“æ£é¼“ä¸¢åˆ° S3 ä¸Šå»ï¼Œå†ä» S3 å€’è…¾è¿› redshift. å¦‚æœä½ æœ‰å¤§é‡çš„å†å²æ•°æ®è¦å¯¼è¿› redshiftï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ä¼šå¾ˆç—›è‹¦ï¼Œredshift å¯¹ä¸€æ¬¡å€’å…¥å¤§é‡æ•°æ®å¹¶ä¸å‹å¥½ï¼Œä½ è¦åˆ†æ‰¹æ¥åšã€‚
ä»Šå¹´4æœˆçš„æ—¶å€™ï¼Œ redshift å‘å¸ƒäº†ä¸€ä¸ªæ–°åŠŸèƒ½ spectrum, å¯ä»¥ä» redshift é‡Œç›´æ¥æŸ¥è¯¢ s3 ä¸Šçš„ç»“æ„åŒ–æ•°æ®ã€‚æœ€è¿‘æŠŠéƒ¨åˆ†æ•°æ®ä»“åº“ç›´æ¥è¿ç§»åˆ°äº† spectrum, æ­£å¥½æ¥è®²è®²ã€‚
åŠ¨æœº Glow çš„æ•°æ®ä»“åº“å»ºåœ¨ redshift ä¸Šï¼Œ åˆåˆ†æˆäº†ä¸¤ä¸ªé›†ç¾¤ï¼Œä¸€ä¸ª ssd çš„é›†ç¾¤å­˜æ”¾æœ€è¿‘ 4 ä¸ªæœˆçš„æ•°æ®ï¼Œä¾›äº§å“åˆ†æï¼Œmetrics report, debug ç­‰ç­‰ adhoc çš„æŸ¥è¯¢ã€‚4ä¸ªæœˆä¹‹å‰çš„æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ª hdd çš„é›†ç¾¤é‡Œï¼Œä¾¿å®œå®¹é‡å¤§ï¼ŒæŸ¥è¯¢æ…¢ã€‚
ä½†æ˜¯æ—¶é—´é•¿äº† hdd çš„é›†ç¾¤ä¹Ÿæ˜¯æœ‰æ‰©å®¹éœ€æ±‚çš„ï¼Œè€Œä½¿ç”¨é¢‘ç‡åˆå®åœ¨æ˜¯ä¸é«˜ï¼Œå…¶å®å¾ˆæµªè´¹, è¿™å°±æ˜¯è¿ç§»åˆ° spectrum çš„åŠ¨æœºã€‚
ä½¿ç”¨ Spectrum Redshift spectrum åº•å±‚å…¶å®æ˜¯åŸºäº AWS çš„å¦ä¸€ä¸ªæœåŠ¡ athena çš„ã€‚athena æ˜¯ä¸ª Presto å’Œ Hive æ‚äº¤äº§ç‰©ï¼Œ DDL ç”¨ Hive è¯­æ³•ï¼Œ æŸ¥è¯¢ç”¨çš„ sql ç”± Presto æ”¯æŒ, æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œè¿™é‡Œä¸å¤šå±•å¼€è®² athena, çŸ¥é“ redshift spectrum å…¶å®æ˜¯é€šè¿‡ athena å¯¹æ¥çš„ s3 å°±è¡Œäº†ã€‚
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/07/21/use-redshift-spectrum-to-do-query-on-s3/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/07/15/enable-coredump-on-ubuntu-16.04/">Enable coredump on ubuntu 16.04</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-07-15T02:35:52Z">
        Jul 15, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    Coredump file is useful for debuging program crash. This post will show several settings related to coredump.
Enable coredump If you run program from shell , enable coredump via unlimit -c unlimitedï¼Œ then check unlimit -a | grep core, if it shows unlimited, coredump is enabled for your current session.
If your program is hosted by systemd, you need to edit your program&#8217;s service unit file&#8217;s [Service] section, add LimitCORE=infinity to enable coredump.
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/07/15/enable-coredump-on-ubuntu-16.04/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/07/01/python-web-%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/">Python Web åº”ç”¨æ€§èƒ½è°ƒä¼˜</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-07-01T23:38:24&#43;08:00">
        Jul 1, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    Python web åº”ç”¨æ€§èƒ½è°ƒä¼˜ ä¸ºäº†å¿«é€Ÿä¸Šçº¿ï¼Œæ—©æœŸå¾ˆå¤šä»£ç åŸºæœ¬æ˜¯æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥ï¼Œè¿™æ ·å°±ç•™ä¸‹äº†å¾ˆå¤šéšæ‚£ï¼Œæ€§èƒ½ä¹Ÿä¸æ˜¯å¾ˆç†æƒ³ï¼Œpython å› ä¸º GIL çš„åŸå› ï¼Œåœ¨æ€§èƒ½ä¸Šæœ‰å¤©ç„¶åŠ£åŠ¿ï¼Œå³ä½¿ç”¨äº† gevent/eventlet è¿™ç§åç¨‹æ–¹æ¡ˆï¼Œä¹Ÿå¾ˆå®¹æ˜“å› ä¸ºè€—æ—¶çš„ CPU æ“ä½œé˜»å¡ä½æ•´ä¸ªè¿›ç¨‹ã€‚å‰é˜µå­å¯¹åŸºç¡€ä»£ç åšäº†äº›é‡æ„ï¼Œæ•ˆæœæ˜¾è‘—ï¼Œè®°å½•ä¸€äº›ã€‚
è®¾å®šç›®æ ‡:
 æ€§èƒ½æé«˜äº†ï¼Œæœ€ç›´æ¥çš„æ•ˆæœå½“ç„¶æ˜¯èƒ½ç”¨æ›´å°‘çš„æœºå™¨å¤„ç†ç›¸åŒæµé‡ï¼Œç›®æ ‡æ˜¯å…³é—­ 20% çš„ stateless webserver. å°½é‡åœ¨æ¡†æ¶ä»£ç ä¸Šåšæ”¹åŠ¨ï¼Œä¸åŠ¨ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚ ä½é£é™© (å†å²ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼ŒåŠ¨æ€ä¸€æ—¶çˆ½ï¼Œé‡æ„ç«è‘¬åœº&hellip;.)  æ²»æ ‡ å¸¸è§åœºæ™¯æ˜¯å¤§å®¶å¼€å¼€å¿ƒå¿ƒåšå®Œä¸€ä¸ª featureï¼Œ sandbox æµ‹è¯•ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œä¸Šçº¿äº†ï¼Œç»“æœ server load é£™å‡ï¼Œå„ç§ timeout éƒ½æ¥äº†ï¼Œè¦ä¹ˆ rollback ä»£ç ï¼Œè¦ä¹ˆåŠ æœºå™¨ã€‚é—®é¢˜ä»£ç åœ¨å“ª?
æˆ‘ä»¬ç›‘æ§ç”¨çš„æ˜¯ datadog (statsdåè®®)ï¼Œå¯¹è¿™ç§é—®é¢˜æœ€æœ‰æ•ˆçš„æŒ‡æ ‡æ˜¯çœ‹æ¯ä¸ªæ¥å£çš„ avg_latency * req_count å¾—åˆ°æ¯ä¸ªæ¥å£åœ¨ä¸€æ®µæ—¶é—´å†…çš„æ€»è€—æ—¶ï¼Œåœ¨æŸ±çŠ¶å›¾ä¸Šæœ€é•¿çš„é‚£å—å°±æ˜¯å¯¹æ€§èƒ½å½±å“æœ€å¤§çš„æ¥å£ã€‚è¿›ä¸€æ­¥çš„è°ƒè¯•å°±é  cProfile å’Œè¯»ä»£ç äº†ã€‚
ä½†å¾ˆå¤šæ—¶å€™å‡ºé—®é¢˜çš„ä»£ç é€»è¾‘å·¨å¤æ‚ï¼Œè¿˜å¾ˆå¤šäººæ”¹åŠ¨è¿‡ï¼Œå¼€å‘å’Œ sandbox ç¯å¢ƒæ•°æ®çš„é‡å’Œçº¿ä¸Šå·®è·å¤ªå¤§ï¼Œæ— æ³•å¤ç°é—®é¢˜ï¼Œåœ¨çº¿ä¸Šç”¨ cProfile åªèƒ½æµ‹åªè¯»æ¥å£(ä¸ºäº†ä¸å†™åç”¨æˆ·æ•°æ®)ã€‚
è€Œä¸”è¿™ç§æ–¹å¼åªèƒ½æ²»æ ‡ï¼Œè°ƒè¯•ä¸ªåˆ«æ…¢çš„ä¸šåŠ¡æ¥å£ï¼Œç›®æ ‡é‡Œè¯´äº†åªæƒ³æ”¹æ¡†æ¶ï¼Œæé«˜æ•´ä½“æ€§èƒ½ï¼Œæ€ä¹ˆæ•´?
æ²»æœ¬ æˆ‘å¸Œæœ›èƒ½å¯¹è¿è¡Œæ—¶è¿›ç¨‹çŠ¶æ€æ‰“ snapshotï¼Œæ¯æ¬¡å¿«ç…§è®°å½•ä¸‹å½“å‰çš„å‡½æ•°è°ƒç”¨æ ˆï¼Œå åˆå¤šæ¬¡é‡‡æ ·ï¼Œå‡ºç°æ¬¡æ•°å¤šçš„å‡½æ•°å¿…ç„¶å°±æ˜¯ç“¶é¢ˆæ‰€åœ¨. è¿™æ€æƒ³åœ¨å…¶ä»–è¯­è¨€é‡Œç”¨çš„ä¹Ÿå¾ˆå¤šï¼Œå…¶å®å°±æ˜¯ Brendan Gregg çš„ flamegraph.
ä»¥å‰å†…éƒ¨åšè¿‡ç±»ä¼¼çš„äº‹æƒ…ï¼Œä¸è¿‡ä»£ç æ˜¯ä¾µå…¥å¼çš„ï¼Œåœ¨è¿è¡Œæ—¶é€šè¿‡ signal, inspect, traceback ç­‰æ¨¡å—ï¼Œå®šæœŸæ‰“è°ƒç”¨æ ˆçš„ snapshot, è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œè½¬æˆ svg çš„ flamegraph æ¥çœ‹ï¼Œä½†æ˜¯ overhead å¤ªé«˜ï¼Œåæ¥å¼ƒç”¨äº†ã€‚
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/07/01/python-web-%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/06/23/build-deb-repository-with-fpm-aptly-and-s3/">Build deb repository with fpm , aptly and s3</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-06-23T09:40:58Z">
        Jun 23, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    I&#8217;m lazy, I don&#8217;t want to be deb/rpm expert, I don&#8217;t want to maintain repo server. I want as less maintenance effort as possible. ğŸ™‚
Combine tools fpm, aptly with aws s3, we can do it.
Use fpm to convert python package to deb fpm can transform python/gem/npm/dir/&#8230; to deb/rpm/solaris/&#8230; packages
Example:
fpm -s python -t deb -m xyj.asmy@gmail.com --verbose -v 0.10.1 --python-pip /usr/local/pip Flask  It will transform Flask 0.
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/06/23/build-deb-repository-with-fpm-aptly-and-s3/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/06/05/debug-python-performance-issue-with-pyflame/">Debug python performance issue with pyflame</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-06-05T09:50:44Z">
        Jun 5, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    pyflame is an opensource tool developed by uber: https://github.com/uber/pyflame
It can take snapshots of running python process, combined with flamegraph.pl, can output flamegraph picture of python call stacks. Help analyze bottleneck of python program, needn&#8217;t inject any perf code into your application, and overhead is very low.
Basic Usage sudo pyflame -s 10 -x -r 0.001 $pid | ./flamegraph.pl &gt; perf.svg
 -s, how many seconds to run -r, sample rate (seconds)  Your output will be something like following:
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/06/05/debug-python-performance-issue-with-pyflame/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>




<article class="c-article p-list-article">
  <header>
    <h2 class="c-title c-article__title"><a href="https://blog.monsterxx03.com/2017/05/17/designing-data-intensive-application-reading-notes-part-2/">Designing data intensive application, reading notes, Part 2</a></h2>
    <p class="c-article__meta">
      Posted on
      <time datetime="2017-05-17T09:12:44Z">
        May 17, 2017
      </time>
    </p>
  </header>
  <div class="c-article__summary">
    Chapter 4, 5, 6
Encoding formats xml, json, msgpack are text based encoding format, they can&#8217;t carry binary bytes (useless you encode them in base64, size grows 33%). And they cary schema definition with data, wast a lot of space.
thrift, protobuf are binary format, can take binary bytes, only carry data, the schema is defined with IDL(interface definition language). They have code generation tool to generate code to encode and decode data, along with check.
  </div>
  
  <a href="https://blog.monsterxx03.com/2017/05/17/designing-data-intensive-application-reading-notes-part-2/" class="c-article__btn p-list-article__btn">Read more</a>
  
</article>


<nav class="c-pagination p-pagination">
  <div class="c-pagination__ctrl">
    <div class="c-pagination__newer">
      
      <a href="/page/4/">Newer</a>
      
    </div>
    <div class="c-pagination__older">
      
      <a href="/page/6/">Older</a>
      
    </div>
  </div>
  <span class="c-pagination__count p-pagination__count">Page 5 of 7</span>
</nav>


<aside class="p-author">
  
  <div class="c-avatar p-author__avatar">
    <img alt="Author Avatar" src="/avatar.png" />
  </div>
  
  
  <div class="p-author__body">
    
    <p class="c-title p-author__name ">X</p>
    
    
    <p>Infrastructure Engineer@Glow</p>
    
    
    <p>
      <a href="mailto:xyj.asmy@gmail.com">
        Contact me
      </a>
    </p>
    
  </div>
  
</aside>


  </main>
  
<nav class="l-nav p-menu">
  <ul class="p-menu__lists">
    
      
      <li class="p-menu__listitem">
        <a href="/">Blog</a>
      </li>
      
    
      
      <li class="p-menu__listitem">
        <a href="/aboutme">About</a>
      </li>
      
    
      
      <li class="p-menu__listitem">
        <a href="/tags">Tags</a>
      </li>
      
    
  </ul>
</nav>


  <footer class="l-footer">
    
<ul class="c-links">
  
  <li class="c-links__item">
    <a href="https://twitter.com/monsterxx03" target="_blank">
      <svg viewBox="0 0 64 64" class="c-links__icon">
        <title>twitter</title>
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </li>
  
  
  
  
  
  <li class="c-links__item">
    <a href="https://github.com/monsterxx03" target="_blank">
      <svg viewBox="0 0 64 64" class="c-links__icon">
        <title>github</title>
        <use xlink:href="#icon-github"></use>
      </svg>
    </a>
  </li>
  
  
  
  
  
  
  
  
  
  
  
  
</ul>



    <p class="p-copyright">
      
        monsterxx03
      
    </p>
  </footer>

  
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-98667627-1', 'auto');
      ga('send', 'pageview');
    </script>
    
  

</body>
</html>

